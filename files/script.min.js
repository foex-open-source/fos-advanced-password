var FOS=window.FOS||{};FOS.item=FOS.item||{},FOS.item.advancedPassword=FOS.item.advancedPassword||{},FOS.item.advancedPassword.init=function(e,n){e.peekShownIcon="fa-eye",e.peekHiddenIcon="fa-eye-slash",e.capsLockIcon="fa-change-case",e.rulesCheckIcon="fa-check-circle-o",e.rulesFailIcon="fa-times-circle-o",e.inlineCheckIcon="fa-check-circle-o",e.inlineFailIcon="fa-times-circle-o",e.errorMessage="Invalid password.",e.confItemErrorMessage="Passwords do not match.",e.strengthBarStyle="dynamic",e.successColor="#5ac240",e.errorColor="#eb4034",e.strengthBarBgColor="#778899",e.strengthBarWidthPct=100,n&&n instanceof Function&&n.call(this,e),apex.debug.info("FOS - Advanced Password: ",e);let s,t,o,a=e.itemName,i=$("#"+a+"_region"),r=$("#"+a),l=e.rules,c=Object.keys(l).length,d=Math.floor(100/c),f={},p=e.strengthBarWidthPct/100,u=i.find(".password-rule-length .fos-pwd"),m=i.find(".password-rule-numbers .fos-pwd"),h=i.find(".password-rule-special-characters .fos-pwd"),g=i.find(".password-rule-capital-letters .fos-pwd");const C="fos-ap-hide";for(let e in l)l[e]&&(f[e]=!1);let w,I=!jQuery.isEmptyObject(f)&&!e.isConfirmationItem;if(e.inlineIcon&&(w=i.find("span.fos-ap-inline-check"),w.addClass([e.inlineFailIcon,C]),w.css({left:"-.2rem",color:e.errorColor}),I||e.isConfirmationItem||(r.on("focus",(function(e){w.removeClass(C)})),r.on("input",(function(e){k(w,e.currentTarget.value.length>0)})))),I&&r.on("keyup change",(function(n){e.inlineIcon&&E((function(){k(w,!1)})),function(n){let s,r=n.target.value;l.pwdLength&&(s=r.length<l.pwdLength.attributes.length,s&&f.pwdLength?(f.pwdLength=!1,O(u)):s||f.pwdLength||(f.pwdLength=!0,F(u)));l.pwdNums&&(s=function(e){let n=l.pwdNums.attributes.length;return regex=new RegExp("([0-9].*){"+n+",}","g"),regex.test(e)}(r),s&&!f.pwdNums?(f.pwdNums=!0,F(m)):!s&&f.pwdNums&&(f.pwdNums=!1,O(m)));l.pwdCapitals&&(s=function(e){let n=l.pwdCapitals.attributes.length;return regex=new RegExp("([A-Z].*){"+n+",}","g"),regex.test(e)}(r),s&&!f.pwdCapitals?(f.pwdCapitals=!0,F(g)):!s&&f.pwdCapitals&&(f.pwdCapitals=!1,O(g)));l.pwdSpecChars&&(s=function(e){let n=l.pwdSpecChars.attributes.listOfSpecChar,s=l.pwdSpecChars.attributes.length;return regex=new RegExp("(["+n+"].*){"+s+",}","g"),regex.test(e)}(r),s&&!f.pwdSpecChars?(f.pwdSpecChars=!0,F(h)):!s&&f.pwdSpecChars&&(f.pwdSpecChars=!1,O(h)));if("collapsible"==e.rulesContainer){let n=i.find(".fos-ap-constraints-title .fos-pwd"),s=!0;E((function(){s=!1}));let r=t.attr("name");if(s&&"done"!=r){apex.message.clearErrors(a),S(e.rulesCompText,"done"),F(n,!1);let s=o;document.querySelectorAll("#"+a+"_region .fos-ap-rule").forEach((function(e){e.style.display="block"})),s.height()>0&&s.css({"max-height":s.prop("scrollHeight")+"px"})}else if(f[r.substr(8)]||"done"==r){let e=!1;for(let s in f){let t=document.querySelector("#"+a+'_region .fos-ap-rule[name="FOS'+s+'"]');f[s]||e?t.style.display="block":(t.style.display="none","done"!=r&&F(n,!1),S(t.innerHTML,"titleFOS"+s),e=!0)}}}}(n)})),"disabled"!=e.pwdPeek){e.peekHiddenIcon=e.peekHiddenIcon.split(" "),e.peekShownIcon=e.peekShownIcon.split(" ");let n=i.find(".ap-password-eye");n.addClass(e.peekHiddenIcon),r.css({"padding-right":"3.3rem"}),e.inlineIcon&&w.css({left:"-3.3rem"}),"enabled-click-press"===e.pwdPeek?(n.on("mouseup mouseleave touchend",x),n.on("mousedown",(function(e){0===e.button&&v.call(n)})),n.on("touchstart",(function(e){let s=e.touches[0];document.elementFromPoint(s.clientX,s.clientY)&&v.call(n)}))):"enabled-toggle"===e.pwdPeek&&n.on("click",(function(){"password"==r.attr("type")?v.call(this):x.call(this)}))}if(e.showCapsLock){let n=i.find(".ap-caps-lock");n.addClass([e.capsLockIcon,C]);let s="disabled"===e.pwdPeek?"-.2rem":"-3.3rem";n.css({left:s}),r.on("focusout",(function(s){e.inlineIcon&&w.removeClass(C),n.addClass(C)})),r.on("keyup",(function(s){s.originalEvent.getModifierState("CapsLock")?(e.inlineIcon&&w.addClass(C),n.removeClass(C)):(e.inlineIcon&&w.removeClass(C),n.addClass(C))}))}if(e.submitOnEnter&&r.on("keyup",(function(e){apex.submit({request:a,submitIfEnter:e,ignoreChange:!0,showWait:!0})})),"hidden"!=e.rulesContainer&&i.find(".fos-pwd").each((function(){let n=$(this);n.addClass(e.rulesFailIcon),n.css({color:e.errorColor})})),"external"==e.rulesContainer&&e.rulesContainerId){let n=i.find(".fos-ap-container-external").detach(),s=$("#"+e.rulesContainerId),t=s.find(".t-Region-body");1===t.length?t.append(n):s.append(n)}else if("hidden"!=e.rulesContainer&&(t=i.find(".fos-ap-constraints-title"),o=i.find(".fos-ap-container"),b(t),b(o)),"collapsible"==e.rulesContainer&&I){let e=i.find(".fos-ap-rule").first();t.html(e.html()),t.attr("name","title"+e.attr("name")),e.css({display:"none"}),t.on("click",(function(e){$(this).toggleClass("active");let n=o;n.height()>0?n.css({"max-height":0}):n.css({"max-height":n.prop("scrollHeight")+"px"})}))}if(e.disableItems){if(e.confItem){let
n=e.itemsToDisable.indexOf(e.confItem);n>-1&&e.itemsToDisable.splice(n,1)}y("disable")}if(e.showErrorIfInc&&I&&(r.on("change",(function(n){E((function(){apex.message.showErrors({type:"error",location:"inline",pageItem:a,message:e.errorMessage}),apex.event.trigger("#"+a,"fos-ap-invalid-field",f)}))})),r.on("focusin",(function(e){apex.message.clearErrors(a)}))),e.showStrengthBar){s=i.find(".fos-strength-container");let n=i.find(".fos-strength-bar-container");n.find(".fos-strength-bg").css({"background-color":e.strengthBarBgColor}),n.find(".fos-strength-container").css({"background-color":e.successColor}),window.addEventListener("resize",(function(e){b(n,p)})),apex.jQuery("#t_TreeNav").on("theme42layoutchanged",(function(e,s){setTimeout((function(){b(n,p)}),300)})),b(n,p),"dynamic"==e.strengthBarStyle?(r.on("focusin",(function(e){n.addClass("fos-bar-active")})),r.on("focusout",(function(e){n.removeClass("fos-bar-active")}))):"static"==e.strengthBarStyle&&n.addClass("fos-bar-active");for(let e=1;e<c;e++)n.append('<div style="left:'+d*e+'%" class="fos-strength-split"></div>')}if(e.confItem){apex.item(e.confItem).disable();let n=$("#"+e.confItem);r.on("input",(function(n){apex.item(e.confItem).setValue(""),k(s,!1),y("disable"),I||(n.currentTarget.value.length>0?apex.item(e.confItem).enable():apex.item(e.confItem).disable())})),n.on("focusin",(function(n){s.removeClass(C),apex.message.clearErrors(e.confItem)}));let s=$("#"+e.confItem+"_region span.fos-ap-inline-check");n.on("input",(function(e){let n=r.val();e.target.value!=n?(k(s,!1),y("disable")):(k(s,!0),y("enable"))})),n.on("change",(function(n){let s=r.val();n.target.value!=s?(e.showErrorIfInc&&apex.message.showErrors({type:"error",location:"inline",pageItem:e.confItem,message:e.confItemErrorMessage}),y("disable")):y("enable")}))}function b(e,n=1){e.css("width",r.outerWidth()*n+"px")}function v(){$(this).removeClass(e.peekHiddenIcon).addClass(e.peekShownIcon),r.attr("type","text")}function x(){$(this).removeClass(e.peekShownIcon).addClass(e.peekHiddenIcon),r.attr("type","password")}function k(n,s){s?(n.css({color:e.successColor}),n.removeClass(e.inlineFailIcon).addClass(e.inlineCheckIcon)):(n.css({color:e.errorColor}),n.removeClass(e.inlineCheckIcon).addClass(e.inlineFailIcon))}function y(n){e.disableItems&&e.itemsToDisable.forEach((function(e){apex.message.clearErrors(e),"enable"==n?($("#"+e).removeClass("apex_disabled"),apex.item(e).enable()):($("#"+e).addClass("apex_disabled"),apex.item(e).disable())}))}function S(n,s){t.css({color:e.successColor}),t.removeClass("fos-value-enter"),t.addClass("fos-value-leave"),setTimeout((function(){t.removeClass("fos-value-leave"),t.addClass("fos-value-enter"),"done"!=s&&t.css({color:e.errorColor}),t.html(n||""),t.attr("name",s)}),300)}function E(e){for(let n in f)if(!f[n]){e();break}}function F(n,t=!0){let o=0;for(let e in f)f[e]&&o++;if(e.showStrengthBar){let e=o*d;e=99==e?100:e,s.css("width",e+"%")}n.parent().css({color:e.successColor}),n.addClass(e.rulesCheckIcon).removeClass(e.rulesFailIcon),n.css({color:e.successColor}),o==c?(t&&apex.event.trigger("#"+a,"fos-ap-every-rule-complete",f),e.confItem&&apex.item(e.confItem).enable(),e.disableItems&&!e.confItem&&y("enable"),e.inlineIcon&&k(w,!0)):t&&apex.event.trigger("#"+a,"fos-ap-rule-complete",f)}function O(n){if(e.showStrengthBar){let e=0;for(let n in f)f[n]||e++;let n=100-e*d;n=3==c?n-1:n,s.css("width",n+"%")}n.parent().css({color:e.errorColor}),n.addClass(e.rulesFailIcon).removeClass(e.rulesCheckIcon),n.css({color:e.errorColor}),apex.event.trigger("#"+a,"fos-ap-rule-fail",f),e.confItem&&apex.item(e.confItem).disable(),e.disableItems&&!e.confItem&&y("disable"),e.inlineIcon&&k(w,!1)}};
//# sourceMappingURL=script.js.map

